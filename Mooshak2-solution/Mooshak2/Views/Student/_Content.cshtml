@using Microsoft.AspNet.Identity
@model Mooshak2.Models.AssignmentViewModel


<div id="maincontent">
	<h2>@Model.Name</h2>
	@using (Ajax.BeginForm("SubmitForm", "Student", new AjaxOptions() {UpdateTargetId = "maincontent",InsertionMode = InsertionMode.Replace, HttpMethod = "POST"}, new {enctype = "multipart/form-data"}))
	{
		@Html.AntiForgeryToken()
		@Html.Hidden("Id", Model.Id)
		<div class="formgroup">
			<input type="file" id="file" name="file"/>
		</div>
		<div class="formgroup">
			<input type="submit"/>
		</div>
	}

	<div class="inputlists">
		<div class="yourInputs">
			<ul>
				@foreach (var item in Model.InputOutputs)
				{
					<li>Input: @item.Input</li>
					<li>Output: @item.RealOutput</li>
				}
			</ul>
		</div>
		<div class="expectedInputs">
			<ul>
				@if(Model.InputOutputs.Count != 0)
				{
					foreach (var item in Model.InputOutputs)
					{
						<li>Input: @item.Input</li>
						<li>Output: @item.ExpectedOutput</li>
					}
				}
			</ul>
		</div>
	</div>

	<div class="submissionTable">
		<table>
			<thead>
			<tr>
				<th>#</th>
				<th>Time</th>
				<th>User</th>
				<th>Result</th>
			</tr>
			</thead>
			<tbody>
			@foreach (var item in Model.Submissions)
			{
				<tr>
					<td>@item.Id</td>
					<td>@item.SubmitDate.ToString("yyyy-MM-dd hh:mm:ss.fff")</td>
					<td>@User.Identity.GetUserName()</td>
					@if (item.TestFailed == 0)
					{
						<td class="acceptedTd">Accepted</td>
					}
					else
					{
						<td class="failedTd" style="color: red;">Failed</td>
					}
				</tr>
			}
			</tbody>
		</table>
	</div>
</div>



